<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <style type="text/css">
      body {
        padding: 20px;
        font-family: serif;
        font-size: 48px;
        line-height: 1.5;
        color: #0d0f17;
      }

      canvas {
        padding: 0;
        margin: 0;
        vertical-align: top;
      }
    </style>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.js"></script>
    <script type="text/javascript" src="../build/blotter.js"></script>
  </head>
    <p>An <span>observation</span> is a set of limitations.</p>
    <p>An <span id="glitch-target">observation</span> is a set of limitations.</p>
    <script>
      $(document).ready(function() {

        var styleProperties = {
          family: "serif",
          size: 48,
          fill: "#0d0f17"
        };

        var text = new Blotter.Text("observation", styleProperties),
            text2 = new Blotter.Text("ddasdasfasdasfasfasf", styleProperties);

        var material = new Blotter.Material();
        //material.uniforms.uDistortion.value = 3.0;
        //material.uniforms.uDistortion2.value = 5.0;

        var blotter = new Blotter(material, {
          texts : [text2, text]
        });

        var startTime = new Date().getTime(),
            myScope = blotter.forText(text);

        blotter.on("ready", function () {
          _.delay(function () {
          $("#glitch-target").empty();
          myScope.appendTo(document.getElementById("glitch-target"));
        }, 2000);
        });

        myScope.on("render", function () {
          var time = (new Date().getTime() - startTime) / 1000;
          //myScope.material.uniforms.uTime.value = time;
        });
      });
    </script>
  </body>
</html>
